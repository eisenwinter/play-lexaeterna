{{ define "main" }}
{{ $headless := .Site.GetPage "/homepage" }}
{{ $sections := $headless.Resources.ByType "page" }}

<nav class="navbar" role="navigation" aria-label="main navigation" id="main-nav">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
      data-target="main-navbar-menu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="main-navbar-menu" class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item" href="#top">
        Home
      </a>
      {{ range where $sections ".Params.header_menu" "eq" true }}
      <a class="navbar-item" href="#sec-{{ .Title  | lower }}">
        {{ .Title }}
      </a>
      {{ end }}
    </div>
    <div class="navbar-end">

    </div>
  </div>
</nav>

<div class="columns">
  <div class="column">
    {{ range $index_val, $elem_val := $sections }}
    <section class="section">
      <div class="container">
        <article id="sec-{{ .Title  | lower }}"
          class="content-area {{ if eq $index_val 0 }}first{{ else }}{{ if eq (add $index_val 1) (len $sections) }}last{{ end }}{{ end }}">
          <h1 class="title">{{ .Title }}</h1>
          <div class="content">{{ .Content }}</div>

        </article>
      </div>
    </section>
    {{ end }}
  </div>
</div>

{{ end }}